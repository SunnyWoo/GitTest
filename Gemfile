if ENV['REGION'] && ENV['REGION'] == 'china'
  source 'https://gems.ruby-china.org'
else
  source 'https://rubygems.org'
end

if ENV['REGION'] && ENV['REGION'] == 'china'
  source 'http://rails-assets.commandp.com.cn'
else
  source 'https://rails-assets.org'
end

gem 'rails', '~> 4.2.7'

# database
gem 'pg'
gem 'redis-rails'
gem 'redis-objects'
gem 'redis-namespace'
gem 'pghero'
gem 'ar-octopus'
gem 'influxdb', '~> 0.2.0'
gem 'store_base_sti_class'

# auth
gem 'devise'
gem 'devise-async'
gem 'doorkeeper'
gem 'doorkeeper-grants_assertion', github: 'doorkeeper-gem/doorkeeper-grants_assertion'
gem 'oauth2'

# omniath
gem 'omniauth'
gem 'omniauth-facebook'
gem 'koala', '~> 2.3'
gem 'omniauth-twitter'
gem 'omniauth-weibo-oauth2'
gem 'omniauth-google-oauth2'
gem 'omniauth-qq-oauth2', github: 'dapic/omniauth-qq-oauth2'
gem 'omniauth-oauth2', '~> 1.3'

# document
gem 'yard'

# utilities
gem 'active_model_serializers', '~> 0.8.1'
gem 'jbuilder'
gem 'prawn'
gem 'settingslogic'
gem 'aasm'
gem 'rails-i18n', '~> 4.0.0'
gem 'i18n_data'
gem 'i18n-active_record', github: 'svenfuchs/i18n-active_record', require: 'i18n/active_record'
gem 'geocoder'
gem 'sidekiq', '< 5'
gem 'sidekiq-failures'
gem 'sidekiq-status'
gem 'celluloid'
gem 'sinatra', require: false
gem 'simple_form', '~> 3.2.0'
gem 'simple_form_object'
gem 'will_paginate', '~> 3.0'
gem 'will_paginate-bootstrap'
gem 'unicorn'
gem 'acts_as_list', github: 'swanandp/acts_as_list'
gem 'activesupport-json_encoder'
gem 'cells', '~> 3'
gem 'ransack'
gem 'by_star'
gem 'ffaker'
gem 'carmen', github: 'run26kimo/carmen'
gem 'seed-fu', '~> 2.3'
gem 'premailer-rails'
gem 'lograge'
gem 'nokogiri'
gem 'paper_trail'
gem 'globalize'
gem 'globalize-accessors', github: 'ayamomiji/globalize-accessors', branch: 'v015-dirty-checking'
gem 'tinymce-rails'
gem 'tinymce-rails-imageupload', '~> 4.0.0.beta'
gem 'uuidtools'
gem 'whenever'
gem 'geoip'
gem 'judge'
gem 'countries'
gem 'netrc'
gem 'httparty'
gem 'rails-env-favicon'
gem 'pundit'
gem 'sitemap_generator'
gem 'rails_autolink'
gem 'email_validator'
gem 'friendly_id', '~> 5.1'
gem 'http_accept_language'
gem 'decent_exposure'
gem 'hashie'
gem 'hashie-forbidden_attributes'
gem 'rubyzip'
gem 'cached_key_value_store'
gem 'globalid'
gem 'impressionist', github: 'commandp/impressionist'
gem 'gretel'
gem 'elasticsearch-api',   github: 'elasticsearch/elasticsearch-ruby'
gem 'elasticsearch-model', github: 'elasticsearch/elasticsearch-rails'
gem 'elasticsearch-rails', github: 'elasticsearch/elasticsearch-rails'
gem 'mailgun', github: 'run26kimo/mailgun'
gem 'mailgun_rails'
gem 'validates_timeliness', '~> 3.0'
gem 'lazy_high_charts'
gem 'rqrcode'
gem 'simple_captcha2', require: 'simple_captcha'
gem 'rack-cors', require: 'rack/cors'
gem 'wannabe_bool'
gem 'monads'
gem 'strip_attributes'
gem 'paranoia', github: 'rubysherpas/paranoia', branch: 'rails4'
gem 'iconv', '~> 1.0', '>= 1.0.4'
gem 'barby'
gem 'virtus'
gem 'net-sftp'
gem 'axlsx'
gem 'roo'
gem 'zip-zip'
gem 'combine_pdf'
gem 'draper'
gem 'bitmask_attributes'
gem 'active_type'
gem 'google_calendar', github: 'Tekphonik/google_calendar'
gem 'gon'

# services
gem 'rollbar', '~> 2.11.5'
gem 'zendesk_api'
gem 'dropbox-api', '~> 0.4.6'
gem 'stripe'
gem 'qiniu', '~> 6.4'
gem 'pingpp'
gem 'china_sms', github: 'commandp/china_sms'
gem 'igetui-ruby', require: 'igetui', github: 'commandp/igetui-ruby'

# protocol
gem 'protobuf'

# xml
gem 'gyoku', '~> 1.0'

# merchants
gem 'paypal-sdk-rest'

# assets
gem 'sass-rails', '~> 4.0.0'
gem 'compass-rails'
gem 'compass-960-plugin'
gem 'uglifier', '>= 1.3.0'
gem 'coffee-rails', '~> 4.0.0'
gem 'jquery-rails', '~> 3.1.3'
gem 'jquery-turbolinks'
gem 'jquery-ui-rails'
gem 'turbolinks', '< 5'
gem 'slim'
gem 'bootstrap-sass', '~> 3.1.1'
gem 'font-awesome-rails'
gem 'jcrop-rails-v2'
gem 'quiet_assets', group: :development
# gem "autoprefixer-rails"

gem 'fancybox2-rails'
gem 'meta-tags'
gem 'canonical-rails', github: 'jumph4x/canonical-rails'
gem 'commandp-resources', git: 'git@bitbucket.org:commandp/commandp-resources.git', tag: 'v12'
gem 'useragent'
gem 'x-editable-rails', github: 'werein/x-editable-rails'
gem 'rails-assets-jquery.treeview'
gem 'browser'
gem 'jquery-validation-rails'
gem 'select2-rails', github: 'nilbus/select2-rails', branch: 'v4'
gem 'react-rails'
gem 'i18n-js', github: 'nietu/i18n-js'
gem 'magnific-popup-rails'
gem 'sprockets-coffee-react'
gem 'tooltipster-rails'
gem 'rails-assets-immutable'
gem 'rails-assets-humps'
gem 'jquery.fileupload-rails'
gem 'rails-assets-flux'
gem 'rails-assets-eventEmitter'
gem 'lazyload-rails'
gem 'rails-assets-fluxxor'
gem 'nested_form_fields'
gem 'jquery-minicolors-rails'
gem 'webpack-rails'
gem 'remotipart'
gem "d3-rails", '~> 3.5.17'
gem 'c3-rails'

# image
gem 'mini_magick'
gem 'carrierwave'
gem 'carrierwave-processing'
gem 'carrierwave-meta', github: 'commandp/carrierwave-meta'
gem 'carrierwave-aws', '~> 0.7.1'
gem 'carrierwave-qiniu', github: 'commandp/carrierwave-qiniu'
gem 'carrierwave-imageoptimizer'
gem 'carrierwave-serializable'
gem 'carrierwave_backgrounder'
# gem 'webp-ffi'
# gem 'graphicsmagick'

# debug
gem 'pry-rails'
gem 'awesome_print', '~> 1.7.0', require: false
gem 'rails_email_preview', '~> 0.2.29'
gem 'logstash-logger', '~> 0.19.0'
gem 'poseidon'
# gem 'oneapm_rpm'
gem 'newrelic_rpm', group: :global

# deploy
gem 'aws-sdk', '< 2'
gem 'capistrano'
gem 'capistrano-ops_works', github: 'commandp/capistrano-opsworks'
gem 'capistrano-rvm'
gem 'capistrano-rails'
gem 'capistrano-sidekiq'

# PDF generator (from HTML)
gem 'wicked_pdf'
gem 'wkhtmltopdf-binary'

group :development, :test do
  # specs
  gem 'rspec'
  gem 'rspec-rails'
  gem 'rspec-given'
  gem 'spring-commands-rspec'
  gem 'shoulda-matchers'
  gem 'database_cleaner'
  gem 'rb-fsevent' if `uname` =~ /Darwin/
  gem 'factory_girl_rails'
  gem 'stub_env'

  # continuous testing
  gem 'spork-rails', github: 'sporkrb/spork-rails'
  gem 'terminal-notifier-guard'
  gem 'annotate', '>=2.6.0'
  gem 'simplecov', require: false
  gem 'spring'
  gem 'codeclimate-test-reporter', require: nil

  # acceptance testing
  gem 'capybara'
  gem 'poltergeist'

  # debug
  gem 'better_errors'
  gem 'binding_of_caller'
  gem 'pry'
  gem 'pry-remote'
  gem 'pry-nav'
  gem 'hirb', require: false
  gem 'hirb-unicode', require: false
  gem 'xray-rails'

  # doc
  gem 'letter_opener'

  # tool
  gem 'yaml_db'
  gem 'elasticsearch-extensions', '~> 0.0.18', github: 'elasticsearch/elasticsearch-ruby'
  gem 'foreman'
  gem 'pre-commit', require: false
  gem 'rubocop', require: false
  gem 'certified'
  gem 'temping'
  gem 'bullet'
end

group :test do
  gem 'vcr'
  gem 'webmock', '~> 1.24.3'
  gem 'stripe-ruby-mock', '~> 2.0.0'
  gem 'timecop'
end
